<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta property="og:site_name" content="Ginstrings" />
    <meta property="og:title" content="Ginstrings Music"/>
    <meta property="og:description" content="Bluegrass music from the Minnesotan Heartland" />
    <meta property="og:image" content="">
    <meta property="og:url" content="">
  <title>ginstrings | mn</title>

  <link rel="stylesheet" href="./styles.css">
  <script src="./jquery.js"></script>

</head>
<body>
  <div class="wrapper">
    <header>
      <div class="headline-home">
      </div>
      <div class="nav-items-wrap">
        <div class="nav-items">
          <a href="./">
            <div class="nav-item" id="">home</div>
          </a>
          <a href="./tunes">
            <div class="nav-item" id="">tunes</div>
          </a>
          <a href="#">
            <div class="nav-item active" id="">shows</div>
          </a>
          <a href="./about">
            <div class="nav-item" id="">about</div>
          </a>
          <a href="./contact">
            <div class="nav-item" id="">contact</div>
          </a>
        </div>
      </div>
    </header>
    <div class="main">
      <div id="shows" class="row"></div>
    </div>
    <div class="push"></div> <!-- for the footer -->
  </div> <!-- /.wrapper -->
  <footer>

    <a href="https://www.facebook.com/Ginstrings"
      alt="We're on Facebook. It's great."
      target="_blank">
      <div class="footer-item" id="footer-fb">
        <div class="spacer"></div>
        <p class="smaller gasp-b">
          Like us.
        </p>
      </div>
    </a>
    <a href="https://github.com/ginstrings/ginstrings.github.io"
      alt="We use GitHub Pages. It's great."
      target="_blank">
      <div class="footer-item" id="footer-github">
        <div class="spacer"></div>
        <p class="smaller gasp-b black">
          &#9829; GitHub
        </p>
      </div>
    </a>
  </footer>
  <script type="text/x-show-template">
    <div class="content-container content-container--show">
      <div class="show-items">
        <div class="show-item">
          <img width=125 src="{imageSrc}" alt="{imageAlt}">
        </div>
        <div class="show-item">
          <p class="band-desc-name"> {venue} <span class="muted"> | {city} <span></p>
          <p class="band-desc-inst show-date">{date}</p>
          <br>
          <p>{description}</p>
        </div>
      </div>
    </div>
  </script>
  <script>
    var SHOW_TEMPLATE = document.querySelector("script[type='text/x-show-template']").innerHTML;
    // `SHOWS` is an array of pojos containing show data
    // a `show` object can have the following fields
    // * venue - name of venue
    // * city - typically 'City, State' format
    // * date - the date of a show, or if used with `endDate`, the start date of a multiday show/festival
    //          accepts JS dates `new Date("YYYY/MM/DD")`
    // * endDate - ending date for a multiday show (like a festival), same format as `date`
    // * imageSrc - href for the img tag that shows venue image
    // * imageAlt - alt text for the image
    // * description - description of the show, accepts HTML
    var SHOWS = [
      {
        venue: "Broadway Oyster Bar",
        city: "St Louis, MO",
        date: new Date("2018/3/17"),
        imageSrc: "./img/shows/broadway-oyster.png",
        imageAlt: "Broadway Oyster Bar",
        description: "Playing with ClusterPluck at a St. Paddy's day party! <a href='http://www.broadwayoysterbar.com/musicsched.html'>Check out Broadway Oyster Bar's website</a> for more info.",
      },
      {
        venue: "Dempsey's",
        city: "Fargo, ND",
        date: new Date("2018/3/24"),
        imageSrc: "./img/shows/dempseys.png",
        imageAlt: "Dempsey's",
        description: "",
      },
    ];

    (function render() {
      // Sort by date 
      SHOWS.sort(function(s1, s2) { return s1.date - s2.date });
      // Filter out past shows
      SHOWS = SHOWS.filter(function(s){ 
        var dayAfter = new Date(s.date);
        dayAfter.setDate(dayAfter.getDate() + 1);
        return dayAfter > Date.now() 
      })
      // Normalize show object data
      SHOWS.forEach(function(show) {
        show.description = show.description || "";
        show.date = formatDate(show.date);
        if (show.endDate) {
          show.date += " â€” " + formatDate(show.endDate)
        }
      })
      // Build a document fragment with all shows
      var showsFragment = SHOWS.reduce(function(fragment, show) {
        fragment.appendChild(showToHTML(show));
        return fragment;
      }, document.createDocumentFragment());
      // Render the fragment containing all upcoming shows
      document.querySelector("#shows").appendChild(showsFragment);
    })()

    function showToHTML(show) {
      return toHTML(evalTemplate(SHOW_TEMPLATE, show));
    }

    function evalTemplate(t, o) {
      for (var p in o)
        if (o.hasOwnProperty(p))
          t = t.replace("{"+p+"}", o[p])            
      return t;
    }

    function formatDate(d) {
      var date = d.getDate();
      var month = monthToString(d.getMonth());
      return month + " " + date;
     }

    function monthToString(i) {
      var months = [
        "January",
        "February",
        "March",
        "April",
        "May",
        "June",
        "July",
        "August",
        "September",
        "October",
        "November",
        "December",
      ];
      return months[i];
    }

    function toHTML(string) {
      var p = document.createElement("p");
      p.innerHTML = string;
      return p.firstElementChild;
    }
  </script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-56241486-2', 'auto');
    ga('send', 'pageview');

  </script>
</body>
</html>
